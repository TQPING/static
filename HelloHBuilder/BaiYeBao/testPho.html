<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
		<title>测试上传图片/动画</title>
		<script src="jquery-2.1.1.min.js"></script>
		<style type="text/css">
			*{	
				margin: 0;
				padding: 0;
			}
			body{
				margin: 1rem;
			}
			ul,li{
				list-style: none;
				text-align: center;
			}
			ul{
				height: 100%;
				background: lightgoldenrodyellow;
				animation: tops 3s linear forwards;
				position: absolute;
			}
			@keyframes tops{
				from{height: 100%;top: 0;}
				to{height: 100px;top: 100px;}
			}
		</style>
	</head>

	<body>
		<div>
			<!--<ul>
				<li>
					szdfsd
				</li>
				<li>asfs</li>
				<li>safds</li>
				<li>sfsf</li>
			</ul>-->
			<div>
				<img src=""/>
			</div>
		</div>
		
		<script type="text/javascript">
			
			//转化图片为base64位显示
			function convertImgToBase64(url, callback, outputFormat){
			  var canvas = document.createElement('CANVAS'),
			    ctx = canvas.getContext('2d'),
			    img = new Image;
			  img.crossOrigin = 'Anonymous';
			  img.onload = function(){
			    canvas.height = img.height;
			    canvas.width = img.width;
			    ctx.drawImage(img,0,0);
			    var dataURL = canvas.toDataURL(outputFormat || 'image/png');
			    callback.call(this, dataURL);
			    canvas = null; 
			  };
			  img.src = url;
			}
			 
			 
			convertImgToBase64('big_load.gif', function(base64Img){
			  // Base64DataURL
			  $("img").attr("src",base64Img)
			});
		</script>
		<!--<img style="width: 300px; height: 200px;" id="preview" src="../img/l2.png" alt="Alternate Text" />
		<form class="form1" enctype="multipart/form-data" name="form1">
			<input id="f" type="file" name="f" onchange="Change()" />
		</form>
		<input type="number" oninput="if(value.length>11)value=value.slice(0,11)" name="" id="" value="" />-->
		<!--<script type="text/javascript">
			function Change() {
				var pic = document.getElementById("preview"),
					file = document.getElementById("f");

				var ext = file.value.substring(file.value.lastIndexOf(".") + 1).toLowerCase();

				// gif在IE浏览器暂时无法显示
				if(ext != 'png' && ext != 'jpg' && ext != 'jpeg') {
					alert("图片的格式必须为png或者jpg或者jpeg格式！");
					return;
				}
				var isIE = navigator.userAgent.match(/MSIE/) != null,
					isIE6 = navigator.userAgent.match(/MSIE 6.0/) != null;

				if(isIE) {
					file.select();
					var reallocalpath = document.selection.createRange().text;

					// IE6浏览器设置img的src为本地路径可以直接显示图片
					if(isIE6) {
						pic.src = reallocalpath;
					} else {
						// 非IE6版本的IE由于安全问题直接设置img的src无法显示本地图片，但是可以通过滤镜来实现
						pic.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='image',src=\"" + reallocalpath + "\")";
						// 设置img的src为base64编码的透明图片 取消显示浏览器默认图片
						pic.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';
					}
				} else {
					html5Reader(file);
				}
			};

			function html5Reader(file) {
				var file = file.files[0];
				var reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = function(e) {
					var pic = document.getElementById("preview");
					pic.src = this.result;
					$("#preview").attr("data-id", 1);
				}
			};
		</script>-->
	</body>

</html>